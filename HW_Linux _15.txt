Linux: Домашнее задание 15 (Python)

Работаем в Fabrice Bellard jslinux или на учебном сервере в Вашей директории в папке opt:

Создайте скрипт sleeper.sh, который будет 10 раз с интервалом в 5 секунд писать дату в формате HH:MM:SS и количество процессов одним числом.

Уменьшите или уберите временной интервал (который нам дает sleep), используя vi или nano, закомментировав строку или поменяв значение sleep

С помощью скрипта запишите в файл информацию о процессоре. 

С помощью скрипта запишите в файл информацию об операционной системе, но отфильтруйте информацию так, чтобы осталось только имя (NAME=Alpine Linux) - или другое имя, если работаете на сервере.

Выполните прошлое действие, но так, чтобы слово NAME= не осталось, а было только имя в чистом виде (Alpine)

С помощью скрипта создайте 50 файлов с расширением txt и именами от 50.txt до 100.txt

Пришлите файл скрипта

Вот что вам понадобится для реализации всего этого: 

sleep

touch

ps -ef

date +“%H:%M:%S”

cat /etc/os-release

grep   

 awk ‘{print$НОМЕР_СТОЛБЦА}’

cat /proc/cpuinfo

Если удобно, то вот однострочник, создающий простейший скрипт, который надо будет редактировать: 

echo -e `#!/bin/bash\n date\n echo “it works!“` > /tmp/script.sh

РЕШЕНИЕ;

sh: export: history.txt: bad variable name
localhost:~# cat history.txt
   0 nano sleeper.sh
   1 echo "сохраняем информ-ю об CPU в файл cpuinfo.txt"
   2 cat /proc/cpuinfo > /opt/cpuinfo.txt
   3 cat /opt/cpuinfo.txt
   4 echo "coхраняем инфу об ОС в файл osinfo.txt"
   5 grep "NAME=" /opt/os-realease > /opt/osinfo.txt
   6 cat osinfo.txt
   7 grep "NAME=" /etc/os-realease > /opt/osinfo.txt
   8 grep "NAME=" /etc/os-release > /opt/osinfo.txt
   9 cat osinfo.txt
  10 cat /opt/osinfo.txt
  11 grep "NAME=" /etc/os-release | head -1 | sed -e 's/NAME="//' > > /opt/osinf
o.txt
  12 grep "NAME=" /etc/os-release | head -1 | sed -e 's/NAME="//' >> /opt/osinfo
.txt
  13 cat /opt/osinfo.txt
  14 sed -i 's/"$//' /opt/osinfo.txt
  15 cat /opt/osinfo.txt
  16 nano sleeper.sh
  17 chmod +x sleeper.sh
  18 ./sleeper.sh
  19 nano sleeper.sh
  20 ./sleeper.sh
  21 nano sleeper.sh